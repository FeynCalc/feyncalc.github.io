<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FeynCalc manual (development version)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="../css/feyncalc.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: true
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">FeynCalc manual (development version)</h1>
</header>
<h2 id="feynarts-sign-conventions">FeynArts sign conventions</h2>
<h3 id="see-also">See also</h3>
<p><a href="FeynCalc.html">Overview</a>.</p>
<p>The overall sign of an amplitude <span class="math inline">i \mathcal{M}</span> is always a convention. It does not have to agree between different textbooks and papers and there is nothing wrong with that. Nevertheless, it is should be always possible to trace the origins of various signs appearing in different pieces of the amplitude. Understanding how the overall sign comes about allows you to <em>adjust</em> it to the convention you prefer.</p>
<p>The amplitude generated by FeynArts’ <code>CreateFeynAmp</code> function has three sources of signs that contribute to the final overall sign. These are the overall prefactor, the definiton of the vertices and the fermion sign.</p>
<h3 id="overall-prefactor">Overall prefactor</h3>
<ul>
<li><code>CreateFeynAmp</code> generates <span class="math inline">i \mathcal{M}</span> multiplied by the value of the option <code>PreFactor</code>.</li>
<li>The default setting of this option is <code>-I*(2Pi)^(-4 LoopNumber)</code>.</li>
<li>This means that for a tree-level diagram you get <span class="math inline">\mathcal{M}</span> and for a 1-loop diagram <span class="math inline">(2\pi)^{-4} \mathcal{M}</span> is returned.</li>
<li>To obtain <span class="math inline">i \mathcal{M}</span> change the value of <code>PreFactor</code> to <code>1</code> as in <code>CreateFeynAmp[diags, PreFactor -&gt; 1]</code>.</li>
</ul>
<h3 id="vertices">Vertices</h3>
<p>The signs in the vertices always depend on the model under consideration. The built-in <code>SM</code> model is based on the conventions used in <a href="https://arxiv.org/abs/0709.1075v1">arXiv:0709.1075</a>. This means that</p>
<ul>
<li>the lepton-gauge boson vertex (e.g. <em>QED electron-photon vertex</em>) is proportional to <span class="math inline">i e \gamma^\mu</span></li>
<li>the quark-gauge boson vertex is proportional to <span class="math inline">- i Q g_c \gamma^\mu</span>, where <span class="math inline">g_c</span> is the coupling constant and <span class="math inline">Q</span> is thee electric charge of the quark</li>
<li>for charged gauge bosons (<span class="math inline">\gamma</span>, <span class="math inline">Z</span>, <span class="math inline">W^{\pm}</span>) we have <span class="math inline">Q = 2/3</span> for the up-type quarks (<span class="math inline">u</span>,<span class="math inline">c</span>,<span class="math inline">t</span>) and <span class="math inline">-1/3</span> for the down-type quarks (<span class="math inline">d</span>,<span class="math inline">s</span>,<span class="math inline">b</span>)</li>
<li>for gluons one sets <span class="math inline">Q=1</span> and so the <em>QCD quark-gluon vertex</em> corresponds to <span class="math inline">- i g_s \gamma^\mu</span></li>
</ul>
<p>This FeynArts vertex convention agrees with the one used in <a href="https://doi.org/10.1007/978-3-322-80160-9">Gauge Theories of the Strong and Electroweak Interaction</a> by M. Bohm, A. Denner and H. Joos. However, it disagrees with the convention in <a href="https://doi.org/10.1201/9780429503559">An Introduction to Quantum Field Theory</a> by M. Peskind and D. Schroeder. There the QED electron-photon vertex is proportional to <span class="math inline">- i e \gamma^\mu</span>, the QCD quark-gluon vertex amounts to <span class="math inline">i g_s \gamma^\mu</span> and the quark-photon vertex yields <span class="math inline">i Q g_s \gamma^\mu</span>.</p>
<p>Notice also that models generated with FeynRules will agree with FeynArts on the QED vertex convention but disagree on the sign of the QCD vertex.</p>
<h3 id="fermion-sign">Fermion sign</h3>
<p>Diagrams with external fermions receive additional signs that stem from the anticommuting properties of Grassmann fields when applying Wick’s theorem. One of the simplest processes that exhibits this effect is the tree-level QED <a href="https://en.wikipedia.org/wiki/Bhabha_scattering">Bhabha scattering</a> <span class="math inline">e^+ e^- \to e^+ e^-</span>. There are no ambiguities regarding the fact that both amplitudes have a relative minus sign. However, we are free to choose which of the two amplitudes should be multiplied by <code>+1</code> and which by <code>-1</code>.</p>
<p>The fermion sign algorithm implemented in FeynArts (<a href="https://inspirehep.net/literature/336411">flip rules</a>) is described in Section 6.6 of the <a href="http://www.feynarts.de/FA3Guide.pdf">program manual</a>. In the case of the process <span class="math inline">e^- e^+ \to e^- e^+</span> the <span class="math inline">s</span>-channel diagram is multiplied by <span class="math inline">-1</span>, while the <span class="math inline">t</span>-channel diagram receives a prefactor of <span class="math inline">+1</span>. However, if one generates the physically equivalent process <span class="math inline">e^- e^+ \to e^+ e^-</span>, the signs will flip due to the reversed ordering of the final state particles.</p>
<p>Since March 2022 FeynArts features an option to make the fermion sign of each diagram explicit. To this end you just need to evaluate <code>FermionSign = fSign;</code> before generating the diagrams. Here <code>fSign</code> is a head that will be wrapped around fermion signs. In the case of the Bhabha scattering you can explicitly see that</p>
<pre><code>diagsV1 =   InsertFields[CreateTopologies[0, 2 -&gt; 2], {F[2, {1}], -F[2, {1}]} -&gt; {F[2, {2}], -F[2, {2}]}, 
InsertionLevel -&gt; {Classes}, Restrictions -&gt; QEDOnly];
CreateFeynAmp[diagsV1,PreFactor-&gt;1]</code></pre>
<p>contains <code>fSign[-1]</code>, while</p>
<pre><code>diagsV2 =   InsertFields[CreateTopologies[0, 2 -&gt; 2], {F[2, {1}], -F[2, {1}]} -&gt; {-F[2, {2}], F[2, {2}]}, 
InsertionLevel -&gt; {Classes}, Restrictions -&gt; QEDOnly];
CreateFeynAmp[diagsV2,PreFactor-&gt;1]</code></pre>
<p>has <code>fSign[1]</code>.</p>
<h3 id="general-advice">General advice</h3>
<p>If you are doing a calculation where the overall sign of the amplitude must agree with a particular convention, follow these steps</p>
<ol type="1">
<li>Set the option <code>PreFactor</code> of <code>CreateFeynAmp</code> to <code>1</code> to generate <span class="math inline">i \mathcal{M}</span>.</li>
<li>Check compatibility of all vertex signs between your preferred convention and the employed model. If necessary, adjust the signs in the generated amplitudes.</li>
<li>Use <code>FermionSign = fSign;</code> to figure out the fermion sign of each diagram. If it doesn’t agree with your convention, flips the signs for all diagrams in the given process via <code>amps/. fSign[x_] :&gt; -x</code>. This will preserve the physical relative signs but change the conventional overall sign.</li>
</ol>
</body>
</html>
