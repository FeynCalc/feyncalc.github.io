<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FeynCalc manual (development version)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../css/feyncalc.css" />

</head>
<body>
<header id="title-block-header">
<h1 class="title">FeynCalc manual (development version)</h1>
</header>
<h2 id="feynarts">FeynArts</h2>
<h3 id="see-also">See also</h3>
<p><a href="FeynCalc.html">Overview</a>.</p>
<h3 id="what-is-feynarts">What is FeynArts?</h3>
<p>FeynArts is a Mathematica package for generating Feynman diagrams and
the corresponding amplitudes. The original FeynArts was created by J.
Küblbeck, M. Böhm and A. Denner in 1990 (<a
href="http://inspirehep.net/record/27276">INSPIRE</a>). Since 1998 it is
developed further by Thomas Hahn (<a
href="http://arxiv.org/abs/hep-ph/0012260">hep-ph/0012260</a>). For more
information about FeynArts please visit the <a
href="http://www.feynarts.de/">official site</a>. The manual is
available <a href="http://www.feynarts.de/FA3Guide.pdf">here</a>.</p>
<h3 id="using-feynarts-with-feyncalc">Using FeynArts with FeynCalc</h3>
<p>FeynArts is not a part of FeynCalc but its output can be used by
FeynCalc to evaluate the generated amplitudes. Unfortunately, many
FeynArts functions have the same name as the FeynCalc functions which
makes Mathematica produce lots of warnings when loading both packages in
the same session.</p>
<p>One possible workaround is to first generate the amplitudes with
FeynArts, then save them in a notebook, quit Mathematica, open the
notebook and only then load FeynCalc and evaluate the amplitudes.
However, this method is rather inconvenient if one wants to play with
different options and see how this affects the final result.</p>
<p>The preferred way of using FeynArts with FeynCalc is to patch
FeynArts, such that all corresponding FeynArts functions are renamed and
no shadowing occurs. In this case one can use FeynArts and FeynCalc in
the same Mathematica session without any unwanted interference
effects.</p>
<h3 id="patching-feynarts-for-feyncalc">Patching FeynArts for
FeynCalc</h3>
<p>If you install the stable or development version of FeynCalc using
the <a
href="https://github.com/FeynCalc/feyncalc/wiki/Installation">automatic
installer</a>, you will be asked if the latest version of FeynArts
should be downloaded and patched. Therefore, no additional steps are
necessary.</p>
<p>However, it may happen that you want to update your version of
FeynArts without resintalling FeynCalc. In this case follow these
steps:</p>
<ul>
<li><p>Download the <a href="http://www.feynarts.de/">latest version</a>
of FeynArts and extract the tarball into</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>&lt;&lt; FeynCalc`</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Print</span><span class="op">[</span>$FeynArtsDirectory<span class="op">]</span></span></code></pre></div></li>
<li><p>Start Mathematica and type</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>$LoadFeynArts <span class="ex">=</span> <span class="cn">True</span>;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>&lt;&lt;FeynCalc`; </span></code></pre></div></li>
<li><p>A dialog asking if you want to patch FeynArts will appear. Hit
OK. Wait until the patching process finishes.</p></li>
<li><p>Restart Mathematica kernel and try to evaluate some example codes
(click on the examples link in the banner that appears when FeynCalc
loads). Make sure that everything correctly evaluates without any
warnings and errors.</p></li>
</ul>
<h3 id="using-patched-and-unpatched-feynarts-on-the-same-system">Using
patched and unpatched FeynArts on the same system</h3>
<p>If you patched FeynArts for FeynCalc but also want to use the
unpatched version (e.g. for FormCalc), you can do so without any
problems. When you issue</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    &lt;&lt; FeynArts`</span></code></pre></div>
<p>Mathematica will load the original FeynArts version from your
<code>FileNameJoin[{$UserBaseDirectory, "Applications"}]</code>
directory. The version patched for FeynCalc resides inside the
<code>$FeynArtsDirectory</code> directory and is loaded only from
FeynCalc. Furthermore, you can also use Thomas Hahn’s FeynInstall script
to update the original FeynArts, FormCalc and LoopTools packages without
worrying that it will damage the patched FeynArts version. Just make
sure that you never load patched FeynArts+FeynCalc and unpatched
FeynArts+FormCalc in the same Mathematica session.</p>
<h3 id="technical-details">Technical details</h3>
<p>The patch is applied by the <code>FAPatch</code> function. Have a
look at the <a
href="https://github.com/FeynCalc/feyncalc/blob/master/FeynCalc/Feynman/FAPatch.m">source
code</a> if you want to know how it works.</p>
<h3 id="evaluating-the-output-of-feynarts-in-feyncalc">Evaluating the
output of FeynArts in FeynCalc</h3>
<p>In general, the amplitudes produced by FeynArts cannot be directly
evaluated by FeynCalc. However, it is always possible to convert the
FeynArts output into the form required by FeynCalc.</p>
<p>In FeynCalc 9.x or later a new function <code>FCFAConvert</code>
significantly facilitates the conversion by doing the most common
replacements. The syntax is briefly described in the section 3.5 of <a
href="https://arxiv.org/pdf/1601.01167.pdf">arXiv:1601.01167</a>. Many
the example files that come with FeynCalc also use this function.</p>
<h3 id="the-feynarts-mirror-repository">The feynarts-mirror
repository</h3>
<p>The website of FeynArts doesn’t provide a public repository and uses
a special versioning system, where the version number is upped only for
new features but not for bugfixes. Since the FeynCalc developers are
highly interested in maintaining some level of compatibility between
FeynCalc and FeynArts, we created a Git repository <a
href="https://github.com/FeynCalc/feynarts-mirror">here</a> on GitHub to
monitor the changes between different FeynArts releases. Except for the
<em>Readme.md</em> file, the content of that repository should be
identical to the content of the most recent FeynArts tarball.</p>
</body>
</html>
