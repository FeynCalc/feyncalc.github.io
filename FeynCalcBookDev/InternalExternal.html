<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FeynCalc manual (development version)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="css/feyncalc.css" />
  <script defer="" src="js/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <link rel="stylesheet" href="js/katex.min.css" />

</head>
<body>
<header id="title-block-header">
<h1 class="title">FeynCalc manual (development version)</h1>
</header>
<h2 id="internal-vs.-external-representations">Internal vs. External
Representations</h2>
<h3 id="see-also">See also</h3>
<p><a href="Extra/FeynCalc.html">Overview</a>.</p>
<h3 id="internal-representation">Internal representation</h3>
<p>The internal representation (<code>FeynCalcIntenral</code> or
<code>FCI</code>) is how FeynCalc internally “sees” the objects. For
example, a <span class="math inline">4</span>-dimensional <span
class="math inline">4</span>-vector is represented by</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Pair<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]],</span> Momentum<span class="op">[</span><span class="fu">p</span><span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\overline{p}^{\mu }</span></p>
<p>Pair is one of the most basic FeynCalc objects. Depending on its
arguments, it can represent a <span class="math inline">4</span>-vector,
a metric tensor</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Pair<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]],</span> LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Nu<span class="op">]]]</span></span></code></pre></div>
<p><span class="math display">\bar{g}^{\mu \nu }</span></p>
<p>or a scalar product of two 4-vectors</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Pair<span class="op">[</span>Momentum<span class="op">[</span><span class="fu">p</span><span class="op">],</span> Momentum<span class="op">[</span><span class="fu">q</span><span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\overline{p}\cdot \overline{q}</span></p>
<p>Another essential object is <code>DiracGamma</code> that is used to
represent Dirac matrices. An uncontracted Dirac matrix is</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>DiracGamma<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]]]</span></span></code></pre></div>
<p><span class="math display">\bar{\gamma }^{\mu }</span></p>
<p>and for a Feynman slash we use</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>DiracGamma<span class="op">[</span>Momentum<span class="op">[</span><span class="fu">p</span><span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\bar{\gamma }\cdot \overline{p}</span></p>
<p>The Levi-Civita-Tensor is</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Eps<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]],</span> LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Nu<span class="op">]],</span> LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Rho<span class="op">]],</span> LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Sigma<span class="op">]]]</span></span></code></pre></div>
<p><span class="math display">\bar{\epsilon }^{\mu \nu \rho \sigma
}</span></p>
<p>or, when contracted with <span
class="math inline">4</span>-momenta</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Eps<span class="op">[</span>Momentum<span class="op">[</span>p1<span class="op">],</span> Momentum<span class="op">[</span>p2<span class="op">],</span> Momentum<span class="op">[</span>q1<span class="op">],</span> Momentum<span class="op">[</span>q2<span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\bar{\epsilon
}^{\overline{\text{p1}}\;\overline{\text{p2}}\;\overline{\text{q1}}\;\overline{\text{q2}}}</span></p>
<p>This notation (momenta in the index slots) is also used in many other
tools (e.g. FORM). The advantage is, that we do not need to canonicalize
the indices of the Levi-Civita-Tensor, e.g. to ensure that</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>diff <span class="ex">=</span> Eps<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]],</span> Momentum<span class="op">[</span>p2<span class="op">],</span> Momentum<span class="op">[</span>q1<span class="op">],</span> Momentum<span class="op">[</span>q2<span class="op">]]</span> Pair<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]],</span> Momentum<span class="op">[</span>p1<span class="op">]]</span> <span class="sc">-</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   Eps<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Nu<span class="op">]],</span> Momentum<span class="op">[</span>p2<span class="op">],</span> Momentum<span class="op">[</span>q1<span class="op">],</span> Momentum<span class="op">[</span>q2<span class="op">]]</span> Pair<span class="op">[</span>LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Nu<span class="op">]],</span> Momentum<span class="op">[</span>p1<span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\overline{\text{p1}}^{\mu } \bar{\epsilon
}^{\mu
\overline{\text{p2}}\;\overline{\text{q1}}\;\overline{\text{q2}}}-\overline{\text{p1}}^{\nu
} \bar{\epsilon }^{\nu
\overline{\text{p2}}\;\overline{\text{q1}}\;\overline{\text{q2}}}</span></p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>diff <span class="sc">//</span> Contract</span></code></pre></div>
<p><span class="math display">0</span></p>
<p>is zero.</p>
<h3 id="external-representation">External representation</h3>
<p>The internal representation is useful for the internal programming
FeynCalc, but obviously too cumbersome for the user input. This is why
FeynCalc also has an external representation
(<code>FeynCalcExternal</code> or <code>FCE</code>), that is concise and
convenient.</p>
<p>Let us start with the <span class="math inline">4</span>-vector. In
the FCE-notation it is just <code>FV</code> (“FourVector”)</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>FV<span class="op">[</span><span class="fu">p</span><span class="op">,</span> <span class="sc">\</span><span class="op">[</span>Mu<span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\overline{p}^{\mu }</span></p>
<p>It is not hard to guess that the scalar product is
<code>SP</code></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>SP<span class="op">[</span><span class="fu">p</span><span class="op">,</span> <span class="fu">q</span><span class="op">]</span></span></code></pre></div>
<p><span class="math display">\overline{p}\cdot \overline{q}</span></p>
<p>while for the metric tensor we write <code>MT</code></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>MT<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">],</span> <span class="sc">\</span><span class="op">[</span>Nu<span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\bar{g}^{\mu \nu }</span></p>
<p>To input a Dirac matrix or a Feynman slash, use <code>GA</code> or
<code>GS</code> respectively</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>GA<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\bar{\gamma }^{\mu }</span></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>GS<span class="op">[</span><span class="fu">p</span><span class="op">]</span></span></code></pre></div>
<p><span class="math display">\bar{\gamma }\cdot \overline{p}</span></p>
<p>The Levi-Civita tensor is <code>LC</code></p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>LC<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">],</span> <span class="sc">\</span><span class="op">[</span>Nu<span class="op">],</span> <span class="sc">\</span><span class="op">[</span>Rho<span class="op">],</span> <span class="sc">\</span><span class="op">[</span>Sigma<span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\bar{\epsilon }^{\mu \nu \rho \sigma
}</span></p>
<p>The fully contracted form is entered via</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>LC<span class="op">[][</span>p1<span class="op">,</span> p2<span class="op">,</span> q1<span class="op">,</span> q2<span class="op">]</span></span></code></pre></div>
<p><span class="math display">\bar{\epsilon
}^{\overline{\text{p1}}\;\overline{\text{p2}}\;\overline{\text{q1}}\;\overline{\text{q2}}}</span></p>
<p>It is also possible to enter a mixed form</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>LC<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]][</span>p1<span class="op">,</span> p2<span class="op">,</span> <span class="fu">q</span><span class="op">]</span></span></code></pre></div>
<p><span class="math display">\bar{\epsilon }^{\mu
\overline{\text{p1}}\;\overline{\text{p2}}\overline{q}}</span></p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>LC<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">],</span> <span class="sc">\</span><span class="op">[</span>Nu<span class="op">]][</span>p1<span class="op">,</span> p2<span class="op">]</span></span></code></pre></div>
<p><span class="math display">\bar{\epsilon }^{\mu \nu
\overline{\text{p1}}\;\overline{\text{p2}}}</span></p>
<h3 id="switching-between-the-representations">Switching between the
representations</h3>
<p>To convert between the two representations we use the functions
<code>FCI</code> and <code>FCE</code>, which are shortcuts for
<code>FeynCalcInternal</code> and <code>FeynCalcExternal</code>. One
cannot distinguish between the notations using the typesetting,
i.e. when we see a typeset object in the <code>TraditionalForm</code>,
we cannot really tell if it is in the <code>FCI</code> or
<code>FCE</code> notation.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ex1 <span class="ex">=</span> FV<span class="op">[</span><span class="fu">p</span><span class="op">,</span> <span class="sc">\</span><span class="op">[</span>Mu<span class="op">]]</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>ex2 <span class="ex">=</span> Pair<span class="op">[</span>Momentum<span class="op">[</span><span class="fu">p</span><span class="op">],</span> LorentzIndex<span class="op">[</span><span class="sc">\</span><span class="op">[</span>Mu<span class="op">]]]</span></span></code></pre></div>
<p><span class="math display">\overline{p}^{\mu }</span></p>
<p><span class="math display">\overline{p}^{\mu }</span></p>
<p>However, we can always use StandardForm to see the difference</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ex1 <span class="sc">//</span> <span class="fu">StandardForm</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>ex2 <span class="sc">//</span> <span class="fu">StandardForm</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">(*FV[p, \[Mu]]*)</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">(*Pair[LorentzIndex[\[Mu]], Momentum[p]]*)</span></span></code></pre></div>
<h3 id="why-it-matters">Why it matters</h3>
<p>All FeynCalc functions that are meant for users will automatically
convert the user input in the <code>FCE</code> notation into the
<code>FCI</code> notation. You do not have to do it by yourself.</p>
<p>On the other hand, virtually all FeynCalc functions produce their
output in the <code>FCI</code> form. So when you have an expression that
was obtained from FeynCalc and want to apply some replacement rules to
it, we have to use the <code>FCI</code> form in the rule</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ex <span class="ex">=</span> Pair<span class="op">[</span>Momentum<span class="op">[</span><span class="fu">p</span><span class="op">],</span> Momentum<span class="op">[</span><span class="fu">q</span><span class="op">]]</span></span></code></pre></div>
<p><span class="math display">\overline{p}\cdot \overline{q}</span></p>
<p>No surprise that following does not work</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ex <span class="ot">/.</span> SP<span class="op">[</span><span class="fu">p</span><span class="op">,</span> <span class="fu">q</span><span class="op">]</span> <span class="ot">-&gt;</span> <span class="dv">1</span></span></code></pre></div>
<p><span class="math display">\overline{p}\cdot \overline{q}</span></p>
<p>But if we wrap the r.h.s of the rule with <code>FCI</code>, then
everything is fine</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ex <span class="ot">/.</span> FCI<span class="op">[</span>SP<span class="op">[</span><span class="fu">p</span><span class="op">,</span> <span class="fu">q</span><span class="op">]]</span> <span class="ot">-&gt;</span> <span class="dv">1</span></span></code></pre></div>
<p><span class="math display">1</span></p>
</body>
</html>
