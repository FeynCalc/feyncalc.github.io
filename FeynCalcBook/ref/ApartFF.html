<!DOCTYPE html>
 <html>
 <head>
 <meta charset="UTF-8">

<title>ApartFF&mdash;Wolfram Language Documentation</title>
<meta name="buildnumber" content="0000000" />
<meta name="historydata" content="{9.0, , , }" />
<meta name="keywords" content="ApartFF" />

<meta name="description" content="ApartFF[amp, {q1, q2, ...}] partial fractions loop integrals by decomposing them into simpler integrals that contain only linearly independent propagators. It uses FCApart as a backend and works and is suitable also for multiloop integrals." />
<script language="JavaScript" type="text/javascript">baselang='ApartFF';</script>
<!--#include virtual="/common/includes/gl-head-includes.html"-->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--[if IE]>
<style type="text/css">
/* doctype problem overrides */
#menu .searchboxsub, #menu .searchboxsub-on { padding-bottom: 0; }
#menu .headerSearchSubmit { margin-bottom: 4px; }

/*
.WRIdropMenu .WRImenuContents { margin-top: -2px; margin-left: -2px; }
.WRIdropMenu .WRImenuContents .WRImenuContents { margin: 0; }
*/
</style>
<![endif]-->
<link rel="stylesheet" href="../css/reference.css" />


            <link rel="stylesheet" href="../css/clipboard.css" />
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> 
            <script src="../javascript/reference.js"></script>
        
<script src="../javascript/documentation-search.js"></script>
<script src="../javascript/faster-page-load.js"></script>
<script src="../javascript/hyperlink-filter.js"></script>
<script src="../javascript/brokenlinks.js"></script>
<script src="../javascript/clipboard.js"></script>
<script src="../javascript/image-swap.js"></script>

<script language="JavaScript" type="text/javascript" src="../javascript/toggle-highlight.js"></script>
</head>
<body id="ref" class="function">
<a name="top"></a>
 
<div class="main-wrapper">
<div class="outer-wrapper">

<div class="wrapper mainOuter">
    <div class="mainContent">
 <div class="topContentWrap">
  <div class="ribbonWrap">
   <span class="ribbonOuter"><span class="ribbonInner">FEYN CALC SYMBOL</span></span>
  </div>
  <ul class="dropdown">
   <li>
    <a href="#">See Also</a>
    <ul class="sub_menu">
     <li>
      <a href="/language/FeynCalc/ref/FCApart.html"><span class="dropdownPad">FCApart</span></a>
     </li>
    </ul>
   </li>
  </ul>
  <div class="clear"><!-- --></div>
 </div>
 <h1>ApartFF</h1>
 <div class="functionIntroWrap">
  <div class="functionIntro">
   <p><span class="IF"><span class="specialcharacters">ApartFF<span class="openbracket">[</span>amp<span class="comma">,</span><span class="openbrace">{</span>q1<span class="comma">,</span>q2<span class="comma">,</span>...<span class="closebrace">}</span><span class="closebracket">]</span></span></span> <br />partial fractions loop integrals by decomposing them into simpler integrals that contain only linearly independent propagators. It uses FCApart as a backend and works and is suitable also for multiloop integrals.</p>
  </div>
 </div>
 <div class="expandWrap closed"
     id="DetailsAndOptions">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">Details</a><a class="collapse" title="hide" href="#">Details</a></h2>
   <div class="expanded">
    <ul class="functionList">
     <li><a name="610107001"></a><span class="Input">ApartFF</span> uses <span class="Input">FCApart</span> as the backend for partial fractioning. The latter implements an algorithm which is very much based on the work and code of F. Feng (arXiv:1204.2314) that seems&nbsp;&nbsp;&nbsp;&nbsp;to employ a variety Leinartas's algorithm (see arXiv:1206.4740 for its description). Unlike Feng's $Apart that works on general multivariate polynomials,&nbsp;&nbsp;&nbsp;&nbsp; <span class="Input">FCApart</span> is tailored to work only with FeynCalc's <span class="Input">FeynAmpDenominator</span> and <span class="Input">Pair</span> objects, i.e. it is less general. For the original $Apart see https://github.com/F-Feng/APart</li>
     <li><span class="IF"><span class="specialcharacters">ApartFF<span class="openbracket">[</span>amp*extraPiece1<span class="comma">,</span> extraPiece2<span class="comma">,</span><span class="openbrace">{</span>q1<span class="comma">,</span>q2<span class="comma">,</span>...<span class="closebrace">}</span><span class="closebracket">]</span></span></span> is a special working mode of ApartFF, where the final result of partial fractioning amp*extraPiece1 is multiplied by extraPiece2. It is understood, that extraPiece1*extraPiece2 should be unity, e.g. when extraPiece1 is an FAD, while extraPiece is an SPD inverse to it. This mode should be useful for nonstandard integrals where the desired partial fraction decomposition can be performed only after multiplying amp with extraPiece1</li>
     <div class="IO">
      <table class="InCell">
       <tr><td class="lab">In[42]:=</td><td class="Input"><div>
          <a name="1116592623"></a>
          <img src="Files/ApartFF/I_2.png"
              height="18"
              width="100"
              alt="Click for copyable input" />
         </div><div id="i_1_out" class="IFL"></div></td></tr>
      </table>
      <table class="OCell">
       <tr><td class="lab">Out[42]=</td><td class="Output"><div class="output-image">
          <img src="Files/ApartFF/O_1.png"
              height="52"
              width="467"
              alt="" />
         </div></td></tr>
      </table>
     </div>
    </ul>
   </div>
  </div>
 </div>
 <div class="expandWrap"
     id="Examples">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">Examples</a><a class="collapse" title="hide" href="#">Examples</a><a class="all opener" title="open all" href="#"><span>open all</span></a><a class="all closer hide" title="close all" href="#"><span>close all</span></a></h2>
   <div class="expanded">
    <div class="expandSubWrap">
     <div class="expandSubOuter">
      <h3 class="expandSubInner"><a class="expand hide" href="#" title="show">Basic Examples<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(9)</span></a><a class="collapse" href="#" title="hide">Basic Examples<span class="special-character NonBreakingSpace">&#160;</span><span class="special-character NonBreakingSpace">&#160;</span><span>(9)</span></a></h3>
      <div class="expanded">
       <table class="InCell">
        <tr><td class="lab">In[1]:=</td><td class="Input"><div>
           <img src="Files/ApartFF/I_4.png"
               height="18"
               width="138"
               alt="Click for copyable input" />
          </div><div id="i_3_out" class="IFL"></div></td></tr>
       </table>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <a name="591868896"></a>
            <img src="Files/ApartFF/I_6.png"
                height="18"
                width="126"
                alt="Click for copyable input" />
           </div><div id="i_5_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_2.png"
                height="43"
                width="49"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_8.png"
                height="18"
                width="94"
                alt="Click for copyable input" />
           </div><div id="i_7_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_3.png"
                height="43"
                width="49"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><!-- --></div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <a name="1827687893"></a>
            <img src="Files/ApartFF/I_10.png"
                height="18"
                width="253"
                alt="Click for copyable input" />
           </div><div id="i_9_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_4.png"
                height="39"
                width="133"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_12.png"
                height="18"
                width="94"
                alt="Click for copyable input" />
           </div><div id="i_11_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_5.png"
                height="93"
                width="408"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><!-- --></div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <a name="1902480830"></a>
            <img src="Files/ApartFF/I_14.png"
                height="18"
                width="143"
                alt="Click for copyable input" />
           </div><div id="i_13_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_6.png"
                height="40"
                width="135"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_16.png"
                height="18"
                width="94"
                alt="Click for copyable input" />
           </div><div id="i_15_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_7.png"
                height="40"
                width="217"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><!-- --></div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <a name="21286566"></a>
            <img src="Files/ApartFF/I_18.png"
                height="18"
                width="402"
                alt="Click for copyable input" />
           </div><div id="i_17_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_8.png"
                height="45"
                width="305"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_20.png"
                height="18"
                width="123"
                alt="Click for copyable input" />
           </div><div id="i_19_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_9.png"
                height="268"
                width="505"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><!-- --></div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_22.png"
                height="18"
                width="186"
                alt="Click for copyable input" />
           </div><div id="i_21_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_10.png"
                height="39"
                width="115"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_24.png"
                height="18"
                width="94"
                alt="Click for copyable input" />
           </div><div id="i_23_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_11.png"
                height="45"
                width="205"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <li>If the propagators should not altered via momentum shifts (e.g. because they belong to a previously identified topology), use <span class="IF">FDS<span class="special-character Rule">&#62754;</span>False</span></li>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_26.png"
                height="18"
                width="179"
                alt="Click for copyable input" />
           </div><div id="i_25_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_12.png"
                height="45"
                width="294"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><!-- --></div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_28.png"
                height="18"
                width="386"
                alt="Click for copyable input" />
           </div><div id="i_27_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_13.png"
                height="42"
                width="305"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_30.png"
                height="18"
                width="123"
                alt="Click for copyable input" />
           </div><div id="i_29_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_14.png"
                height="150"
                width="505"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_32.png"
                height="18"
                width="208"
                alt="Click for copyable input" />
           </div><div id="i_31_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_15.png"
                height="363"
                width="422"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="ExLine"><!-- --></div>
       <li>If the partial fractioning should be performed only w. r. t. the denominators but not numerators, use <span class="IF">Numerator<span class="special-character Rule">&#62754;</span>False</span></li>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_34.png"
                height="18"
                width="202"
                alt="Click for copyable input" />
           </div><div id="i_33_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_16.png"
                height="42"
                width="135"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_36.png"
                height="18"
                width="98"
                alt="Click for copyable input" />
           </div><div id="i_35_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_17.png"
                height="45"
                width="380"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_38.png"
                height="18"
                width="213"
                alt="Click for copyable input" />
           </div><div id="i_37_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_18.png"
                height="42"
                width="250"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <table class="InCell">
        <tr><td class="lab">In[4]:=</td><td class="Input"><div>
           <img src="Files/ApartFF/I_40.png"
               height="18"
               width="70"
               alt="Click for copyable input" />
          </div><div id="i_39_out" class="IFL"></div></td></tr>
       </table>
       <div class="ExLine"><!-- --></div>
       <li>Using <span class="IF">FeynAmpDenominator<span class="special-character Rule">&#62754;</span>False</span> we can specify that integrals without numerators should not be partial fractioned</li>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_42.png"
                height="18"
                width="263"
                alt="Click for copyable input" />
           </div><div id="i_41_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_19.png"
                height="45"
                width="135"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_44.png"
                height="18"
                width="98"
                alt="Click for copyable input" />
           </div><div id="i_43_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_20.png"
                height="45"
                width="380"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_46.png"
                height="18"
                width="279"
                alt="Click for copyable input" />
           </div><div id="i_45_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_21.png"
                height="45"
                width="528"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <table class="InCell">
        <tr><td class="lab">In[4]:=</td><td class="Input"><div>
           <img src="Files/ApartFF/I_48.png"
               height="18"
               width="70"
               alt="Click for copyable input" />
          </div><div id="i_47_out" class="IFL"></div></td></tr>
       </table>
       <div class="ExLine"><!-- --></div>
       <li>The extraPiece-trick is useful for cases where a direct partial fractioning is not possible</li>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[1]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_50.png"
                height="18"
                width="221"
                alt="Click for copyable input" />
           </div><div id="i_49_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[1]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_22.png"
                height="40"
                width="150"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <li>Here <span class="Input">ApartFF</span> cannot do anything </li>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[2]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_52.png"
                height="18"
                width="98"
                alt="Click for copyable input" />
           </div><div id="i_51_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[2]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_23.png"
                height="40"
                width="150"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <li>Multiplying the integral with unity FAD[k]*SPD[k] we can cast into a more desirable form</li>
       <div class="IO">
        <table class="InCell">
         <tr><td class="lab">In[3]:=</td><td class="Input"><div>
            <img src="Files/ApartFF/I_54.png"
                height="18"
                width="307"
                alt="Click for copyable input" />
           </div><div id="i_53_out" class="IFL"></div></td></tr>
        </table>
        <table class="OCell">
         <tr><td class="lab">Out[3]=</td><td class="Output"><div class="output-image">
            <img src="Files/ApartFF/O_24.png"
                height="43"
                width="333"
                alt="" />
           </div></td></tr>
        </table>
       </div>
       <li>We need a second call to <span class="Input">ApartFF</span> since the first execution doesn't drop scaleless integrals or perform any shifts in the denominators.</li>
       <table class="InCell">
        <tr><td class="lab">In[4]:=</td><td class="Input"><div>
           <img src="Files/ApartFF/I_56.png"
               height="18"
               width="70"
               alt="Click for copyable input" />
          </div><div id="i_55_out" class="IFL"></div></td></tr>
       </table>
      </div>
     </div>
    </div>
    <div class="toplink">
     <a href="#top">Top</a>
    </div>
    <div class="clear"><!-- --></div>
   </div>
  </div>
 </div>
 <div class="expandWrap"
     id="SeeAlso">
  <div class="expandOuter">
   <h2 class="expandInner"><a class="expand hide" title="show" href="#">See Also</a><a class="collapse" title="hide" href="#">See Also</a></h2>
   <div class="expanded">
    <p class="inlineFunctionList">
     <a href="../ref/FCApart.html">FCApart</a>
    </p>
   </div>
  </div>
 </div>
</div>
</div><!-- /wrapper -->

	
</div>


</body></html>
